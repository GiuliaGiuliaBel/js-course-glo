!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var o=()=>{document.querySelectorAll('input[type="number"]').forEach(e=>{e.addEventListener("input",e=>{let t=e.target;t.value=t.value.replace(/[^\d]/g,"")})})};var n=(e=100)=>{const t=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),n=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total");t.addEventListener("change",t=>{const l=t.target;(l.matches("select")||l.matches("input"))&&(()=>{let t=0,l=1,s=1;const i=r.options[r.selectedIndex].value,u=o.value;a.value>1&&(l+=(a.value-1)/10),n.value&&n.value<5?s*=2:n.value&&n.value<10&&(s*=1.5),i&&u&&(t=e*i*u*l*s),c.textContent=Math.round(t)})()})};var a=()=>{let e;document.querySelectorAll("#command .row img").forEach(t=>{t.addEventListener("mouseover",t=>{let r=t.target;e=r.src,r.src=r.getAttribute("data-img")}),t.addEventListener("mouseout",t=>{t.target.src=e})})};var c=e=>{const t=document.querySelector(e);t.addEventListener("click",e=>{var r;e.preventDefault(),r=t,document.querySelector("#"+r.href.split("#")[1]).scrollIntoView({behavior:"smooth"})})};var l=e=>{const t=document.getElementById(e),r=document.createElement("div");r.classList.add("preloader"),r.style.color="white";const o=document.createElement("div");o.classList.add("preloader__row");const n=document.createElement("div");n.classList.add("preloader__item");const a=document.createElement("div");a.classList.add("preloader__item"),o.append(n),o.append(a),r.append(o);let c=t.querySelectorAll("input");const l=e=>{e.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^а-я]/gi,"")})};c.forEach(e=>{if("user_phone"===e.name){t.querySelector("input[name=user_phone]").addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^\d+]/g,"")})}if("user_name"===e.name){let e=t.querySelector("input[name=user_name]");l(e)}if("user_message"===e.name){let e=t.querySelector("input[name=user_message]");l(e)}if("user_email"===e.name){let e=t.querySelector("input[name=user_email]");e.addEventListener("input",e=>{e.target.value=e.target.value.replace(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,"")})}}),t.addEventListener("submit",o=>{o.preventDefault(),r.classList.add("loaded"),t.appendChild(r);const n=new FormData(t);let a={};n.forEach((e,t)=>{a[t]=e});(t=>{fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>{if(200!==t.status)throw new Error("error");r.classList.remove("loaded"),r.textContent="Спасибо, мы с вами скоро свяжемся.",setTimeout(()=>{r.textContent=""},3e3),document.getElementById(e).reset()}).catch(()=>(r.classList.remove("loaded"),r.textContent="Что-то пошло не так...",void setTimeout(()=>{r.textContent=""},3e3)))})(a)})};var s=()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-dots"),r=document.querySelector(".portfolio-content");for(let r=0;r<e.length;r++)t.insertAdjacentHTML("beforeend",`<li class="dot ${0===r?"dot-active":""}"></li>`);const o=document.querySelectorAll(".dot");let n,a=0;const c=(e,t,r)=>{e[t].classList.remove(r)},l=(e,t,r)=>{e[t].classList.add(r)},s=()=>{c(e,a,"portfolio-item-active"),c(o,a,"dot-active"),a++,a>=e.length&&(a=0),l(e,a,"portfolio-item-active"),l(o,a,"dot-active")},i=(e=2e3)=>{n=setInterval(s,e)};r.addEventListener("click",t=>{t.preventDefault();let r=t.target;r.matches(".portfolio-btn, .dot")&&(c(e,a,"portfolio-item-active"),c(o,a,"dot-active"),r.matches("#arrow-right")?a++:r.matches("#arrow-left")?a--:r.matches(".dot")&&o.forEach((e,t)=>{e===r&&(a=t)}),a>=e.length&&(a=0),a<0&&(a=e.length-1),l(e,a,"portfolio-item-active"),l(o,a,"dot-active"))}),r.addEventListener("mouseover",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)}),r.addEventListener("mouseout",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()}),i(2e3)};var i=()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),r=document.querySelectorAll(".service-tab"),o=e=>{for(let o=0;o<r.length;o++)e===o?(t[o].classList.add("active"),r[o].classList.remove("d-none")):(t[o].classList.remove("active"),r[o].classList.add("d-none"))};e.addEventListener("click",r=>{let n=r.target;for(;n!==e;){if(n.classList.contains("service-header-tab"))return void t.forEach((e,t)=>{e===n&&o(t)});n=n.parentNode}})};var u=()=>{const e=document.querySelector("menu");document.body.addEventListener("click",t=>{t.target.closest(".menu")?e.classList.add("active-menu"):e.classList.remove("active-menu")})};var d=()=>{let e,t=0,r=function(){e=requestAnimationFrame(r);const o=document.querySelector(".popup"),n=o.querySelector(".popup-content");t++,n.style.left.slice(0,n.style.left.length-2)<o.clientWidth/2.5?n.style.left=15*t+"px":(cancelAnimationFrame(e),t=0)};const o=document.querySelector(".popup"),n=document.querySelectorAll(".popup-btn"),a=o.querySelector(".popup-content"),c=document.querySelector(".popup-close");n.forEach(t=>{t.addEventListener("click",()=>{document.documentElement.clientWidth>768&&(o.style.display="block",e=requestAnimationFrame(r)),o.style.display="block"})}),c.addEventListener("click",()=>{o.style.display="none",a.removeAttribute("style")})};(e=>{let t=document.querySelector("#timer-hours"),r=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");const n=e=>e<=9?"0"+e:e,a=()=>{let c=(()=>{let n=new Date(e).getTime(),c=(new Date).getTime();if(c>n)return clearInterval(a,1e3),{hours:0,minutes:0,seconds:0};let l=(n-c)/1e3,s=Math.floor(l%60),i=Math.floor(l/60%60),u=Math.floor(l/60/60);return t.textContent=u,r.textContent=i,o.textContent=s,{timeRemaining:l,hours:u,minutes:i,seconds:s}})();t.textContent=n(c.hours),r.textContent=n(c.minutes),o.textContent=n(c.seconds),c.timeRemaining>0&&setInterval(a,1e3)};a()})("20 May 2020"),u(),i(),c('a[href="#service-block"]'),d(),s(),a(),o(),n(100),l("form1"),l("form2"),l("form3")}]);